<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<title>코인게시판</title>

<!-- Common meta tag, Bootstrap, js -->
<th:block th:replace="common/commonHead"></th:block>

<link rel="stylesheet" th:href="@{css/board.css}" >

<!-- Jquery -->
<script th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js}"></script>



</head>
<body>

<!-- common 헤더 -->
<header th:replace="common/header :: header"></header>

<!-- 몸통 -->
<main>


<div class="container">
	
	<div class="row bg-warning">
		<div class="col-lg-2"><div align="left" class="textbox text-dark fs-3 fw-bold">자유게시판</div></div>
		<div class="col-lg-10"></div>
	</div>
	<div class="row bg-warning">
		<div class="col-lg-12">&nbsp</div>
	</div>
	<div class="row">
		<div class="col-lg-10"></div>
		<div class="col-lg-2">검색창</div>
	</div>

	<div class="wrapper_table pt-5">
		<table class="table table-bordered">
		       <thead>
		           <tr>
		               <th class="text-center">순번</th>
		               <th class="text-center">제목</th>
		               <th class="text-center">작성일</th>
		               <th class="text-center">조회수</th>
		               <th class="text-center">글쓴이</th>
		           </tr>
		       </thead>
		       <tbody>
		       	<div th:with="cnt=${total+1}">
		          	<th:block th:each="blist : ${boardList}">
			          	<div th:if="blist!=null" th:with="cnt=cnt-1" >
				          	<tr>
				          		   <td class="text-center" th:text="cnt"></td>   
					               <td><a th:href="@{board_detailBoard( ref=${blist.ref})}" th:text="${blist.title}" class="text-decoration-none"></a></td>
					               <td class="text-center" th:text="${#dates.format(blist.uploaddate, 'yyyy-MM-dd')}"></td>  
					               <td class="text-center" th:text="${blist.views}"></td>
					               <td class="text-center" th:text="${blist.nickname}"></td>
					        </tr>
					     </div>   
			         </th:block>
		         </div>
		       </tbody>
		</table>
		
		
		
		
<!-- 페이지 단락 넘김 -->
		<nav aria-label="Page navigation example">
		<div th:with="start=${pg.startPage}, end=${pg.endPage}">
		  <ul class="pagination justify-content-center mt-4">
		  	<!-- 이전 -->
		    <li class="page-item" th:if="${pg.startPage>pg.pageBlock}">
		      <a class="pagenav_a page-link" th:href="@{board_list(currentPage=${pg.startPage-pg.pageBlock})}" aria-label="previous">
		        <span aria-hidden="true">&laquo;</span>
		      </a>
		    </li>
		    <!-- 페이지 갯수 -->
		    <li class="page-item" th:each="i:${#numbers.sequence(start, end)}">
		    	<a class="pagenav_a page-link" id="pageNav${i}" th:href="@{board_list(currentPage=${i})}" th:text=${i}></a>
		    </li>
		    <!-- 다음 -->
		    <li class="page-item" th:if="${pg.endPage < pg.totalPage}">
		      <a class="pagenav_a page-link" th:href="@{board_list(currentPage=${pg.startPage+pg.pageBlock})}" aria-label="Next">
		        <span aria-hidden="true">&raquo;</span>
		      </a>
		    </li>
		  </ul>
	  </div>
	</nav>
	</div>

<!-- 글작성버튼 -->
	<form action="">  							<!-- 메소드끼리 건네주는 방법 물어보고 write -->
		<div class="row">
			<div class="col-lg-10"></div>
			<div class="col-lg-2"><button type="button" class="btn btn-success me-2" th:onclick="|location.href='@{board_writeForm}'|" th:if="${session.sessionID!=null}" >글작성</button></div>
		</div>	
	</form>	
	
</div>
</main>



<!-- footer -->
<footer th:replace="common/footer :: footer"></footer>


<!-- Bootstrap Bundle with Popper -->
<script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js}" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>
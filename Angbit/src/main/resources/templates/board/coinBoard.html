<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<title>코인게시판</title>

<!-- Common meta tag, Bootstrap, js -->
<th:block th:replace="common/commonHead"></th:block>

<link th:href="@{/css/board.css}" rel="stylesheet">

<!-- Jquery -->
<script th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js}"></script>

<style>

</style>

</head>
<body>

<!-- common 헤더 -->
<header th:replace="common/header :: header"></header>

<!-- 몸통 -->
<main>
<div th:text="${result}"></div>  <!-- 결과값 띄어주기 -->


<div class="container">
	
	<div class="row bg-warning">
		<div class="col-lg-2"><div align="left" class="textbox text-dark">자유게시판</div></div>
		<div class="col-lg-8"></div>
		<div class="col-lg-2"></div>
	</div>
	
	<div class="row">
		<div class="col-lg-2"></div>
		<div class="col-lg-8"></div>
		<div class="col-lg-2">검색창</div>
	</div>

	<div class="wrapper_table pt-5">
		<table class="table table-bordered">
		       <thead>
		           <tr>
		               <th>순번</th>
		               <th>제목</th>
		               <th>작성일</th>
		               <th>조회수</th>
		               <th>글쓴이</th>
		           </tr>
		       </thead>
		       <tbody>
		          	<th:block th:each="blist : ${boardList}">	            
		            <tr>
		               <td th:text="${blist.b_num}"></td>
		               <td><a th:href="@{board_viewCnt( b_num=${blist.b_num})}" th:text="${blist.title}" class="link-dark"></a></td>
		               <td th:text="${#dates.format(blist.uploaddate, 'yyyy-MM-dd')}"></td>  
		               <td th:text="${blist.views}"></td>
		               <td th:text="${blist.nickname}"></td>
		            </tr>
		            </th:block>
		       </tbody>
		</table>
		
		
		
		
<!-- 페이지 단락 넘김 -->
		<nav aria-label="Page navigation example">
		<div th:with="start=${pg.startPage}, end=${pg.endPage}">
		  <ul class="pagination justify-content-center mt-4">
		  	<!-- 이전 -->
		    <li class="page-item" th:if="${pg.startPage>pg.pageBlock}">
		      <a class="pagenav_a page-link" th:href="@{board_list(currentPage=${pg.startPage-pg.pageBlock})}" aria-label="previous">
		        <span aria-hidden="true">&laquo;</span>
		      </a>
		    </li>
		    <!-- 페이지 갯수 -->
		    <li class="page-item" th:each="i:${#numbers.sequence(start, end)}">
		    	<a class="pagenav_a page-link" id="pageNav${i}" th:href="@{board_list(currentPage=${i})}" th:text=${i}></a>
		    </li>
		    <!-- 다음 -->
		    <li class="page-item" th:if="${pg.endPage < pg.totalPage}">
		      <a class="pagenav_a page-link" th:href="@{board_list(currentPage=${pg.startPage+pg.pageBlock})}" aria-label="Next">
		        <span aria-hidden="true">&raquo;</span>
		      </a>
		    </li>
		  </ul>
	  </div>
	</nav>
	</div>

		<div class="row">
			<div class="col-lg-2"></div>
			<div class="col-lg-6"></div>
			<div class="col-lg-2"><button style="text-align:right" type="button" class="btn btn-success me-2" th:onclick="|location.href='@{board_writeForm}'|" th:if="${session.sessionID!=null}" >글작성</button></div>
		</div>	
		
	
</div>
</main>

<!-- footer -->
<footer th:replace="common/footer :: footer"></footer>


<!-- Bootstrap Bundle with Popper -->
<script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js}" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>
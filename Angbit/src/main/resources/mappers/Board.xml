<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="BoardDao">
	
	<!-- getList -->
	<select id="boardList" parameterType="Board" resultType="Board">
		SELECT  *
		FROM
		 board bd
		LEFT OUTER JOIN
		 memberinfo mb
		ON 
		 bd.id = mb.id
		ORDER BY bd.b_num DESC
	</select>
	
	
	<!-- total -->
	<select id="dyboardTotal" resultType="int">
		select count(*) FROM board
	</select>
	
	<select id="pagingbd" parameterType="MemberInfo" resultType="Board">
		SELECT *
		FROM
		  (
		    Select rownum rn , a.*
		    From   (select * from board order by b_num DESC) a
		  )
			WHERE rn between #{start} and #{end} 
	</select>
	
	
	<!-- detail, updateForm -->
	<select id="dyBoardSelOne" parameterType="int" resultType="Board">
		select * from Board where b_num = #{b_num}
	</select>
	
	
	<!-- update -->
	<update id="dyBoardUpdate" parameterType="Board">
		 update board
		 set    bd.b_num=#{b_num},
		        bd.title=#{title}, 
		        bd.uploaddate=#{uploaddate}, 
		    	bd.views=#{views} 
		       
		 where  bd.title=#{title}
	</update>
	
	<!-- delete -->
	<delete id="delete" parameterType="int">
		delete from BOARD where b_num = #{b_num}
	</delete>
</mapper>